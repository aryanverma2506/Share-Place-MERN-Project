"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[800],{301:(e,t,a)=>{a.d(t,{Z:()=>c});var i=a(791),l=a(106);const n="ImageUpload_form-control__S+NdZ",s="ImageUpload_image-upload__CzPQI",r="ImageUpload_center__jXDTo",o="ImageUpload_image-upload__preview__+ww3b";var u=a(184);function d(e,t){switch(t.type){case"INPUT_CHANGE":return{...e,file:t.file||e.file,isValid:t.isValid||e.isValid};case"PREVIEW_FILE":return{...e,filePreviewUrl:t.filePreviewUrl||e.filePreviewUrl};default:return e}}const c=function(e){const[t,a]=(0,i.useReducer)(d,{file:void 0,filePreviewUrl:null,isValid:!1}),c=(0,i.useRef)(null);return(0,i.useEffect)((()=>{if(t.file){const e=new FileReader;e.onload=()=>{a({type:"PREVIEW_FILE",filePreviewUrl:e.result})},e.readAsDataURL(t.file)}}),[t.file]),(0,u.jsxs)("div",{className:"".concat(n),children:[(0,u.jsx)("input",{id:e.id,ref:c,style:{display:"none"},type:"file",accept:".png, .jpg, .jpeg",onChange:function(i){let l,n=t.isValid;i.target.files&&1===i.target.files.length?(l=i.target.files[0],a({type:"INPUT_CHANGE",file:l,isValid:!0}),n=!0):(a({type:"INPUT_CHANGE",file:void 0,isValid:!1}),n=!1),e.onInput(e.id,l,n)}}),(0,u.jsxs)("div",{className:"".concat(s," ").concat(e.center?r:""),children:[(0,u.jsxs)("div",{className:"".concat(o),children:[t.filePreviewUrl&&(0,u.jsx)("img",{src:t.filePreviewUrl.toString(),alt:"Preview"}),!t.filePreviewUrl&&(0,u.jsx)("p",{children:"Please pick an image."})]}),(0,u.jsx)(l.Z,{type:"button",onClick:function(){var e;null===(e=c.current)||void 0===e||e.click()},children:"PICK IMAGE"}),!t.isValid&&(0,u.jsx)("p",{children:e.errorText})]})]})}},461:(e,t,a)=>{a.d(t,{Z:()=>u});var i=a(791),l=a(343);const n="Input_form-control__4leYh",s="Input_form-control--invalid__JOT1a";var r=a(184);function o(e,t){switch(t.type){case"CHANGE":return{...e,step:t.step||e.step,value:t.value||"",isValid:(0,l.ZP)(t.value||"",t.validators)};case"TOUCH":return{...e,isTouched:!0};default:return e}}const u=function(e){var t;const[a,l]=(0,i.useReducer)(o,{step:1,value:(null===(t=e.initialValue)||void 0===t?void 0:t.toString())||"",isValid:e.initialValid||!1,isTouched:!1}),{id:u,onInput:d}=e,{value:c,isValid:p}=a;function v(t){if("number"===t.target.type){let a=1;if(Number.isInteger(parseFloat(t.target.value)))a=1;else if(0!==t.target.value.trim().length){const e=(t.target.value.split(".")[1]||"").length;a=parseFloat("0.".concat("0".repeat(e-1),"1"))}l({type:"CHANGE",step:a,value:t.target.value,validators:e.validators})}else l({type:"CHANGE",value:t.target.value,validators:e.validators})}function m(){l({type:"TOUCH"})}(0,i.useEffect)((()=>{d&&d(u,c,p)}),[u,c,p,d]);const f="textarea"===e.type?(0,r.jsx)("textarea",{id:e.id,rows:e.rows||3,placeholder:e.placeholder,onChange:v,onBlur:m,value:a.value}):(0,r.jsx)("input",{id:e.id,type:e.type,min:e.min,max:e.max,step:"number"===e.type?a.step:void 0,placeholder:e.placeholder,onChange:v,onBlur:m,value:a.value});return(0,r.jsxs)("div",{className:"".concat(n," ").concat(!a.isValid&&a.isTouched?s:""),children:[(0,r.jsx)("label",{htmlFor:e.id,children:e.label}),f,!a.isValid&&a.isTouched&&(0,r.jsx)("p",{children:e.errorText})]})}},42:(e,t,a)=>{a.d(t,{Z:()=>n});a(791);const i="Card_card__1-V8Z";var l=a(184);const n=function(e){return(0,l.jsx)("div",{className:"".concat(i," ").concat(e.className),style:e.style,children:e.children})}},776:(e,t,a)=>{a.d(t,{c:()=>n});var i=a(791);function l(e,t){switch(t.type){case"INPUT_CHANGE":let i=!0;for(const a in e.inputs)e.inputs[a]&&(i=a===t.inputId?i&&t.isValid:i&&e.inputs[a].isValid);var a;if(t.inputId)return{...e,inputs:{...e.inputs,[t.inputId]:{value:null!==(a=t.value)&&void 0!==a?a:e.inputs[t.inputId].value,isValid:t.isValid}},isValid:i};break;case"SET_DATA":return{inputs:t.inputs||e.inputs,isValid:t.isValid||e.isValid};default:return e}return{...e}}function n(e,t){const[a,n]=(0,i.useReducer)(l,{inputs:e,isValid:t||!1});return[a,(0,i.useCallback)(((e,t,a)=>{n({type:"INPUT_CHANGE",inputId:e,value:t,isValid:a})}),[]),(0,i.useCallback)(((e,t)=>{n({type:"SET_DATA",inputs:e,isValid:t})}),[])]}},343:(e,t,a)=>{a.d(t,{Ox:()=>u,Ss:()=>s,TS:()=>o,ZP:()=>d,hg:()=>l,p0:()=>n,qE:()=>r});let i=function(e){return e.REQUIRE="REQUIRE",e.NUMBER="NUMBER",e.MIN_LENGTH="MIN_LENGTH",e.MAX_LENGTH="MAX_lENGTH",e.MIN="MIN",e.MAX="MAX",e.EMAIL="EMAIL",e.FILE="FILE",e}({});const l=()=>({type:i.REQUIRE,value:""}),n=()=>({type:i.NUMBER,value:""}),s=e=>({type:i.MIN_LENGTH,value:e.toString()}),r=e=>({type:i.MIN,value:e.toString()}),o=e=>({type:i.MAX,value:e.toString()}),u=()=>({type:i.EMAIL,value:""});function d(e,t){let a=!0;if(t)for(const l of t)l.type===i.REQUIRE&&(a=a&&e.trim().length>0),l.type===i.NUMBER&&(a=a&&"number"===typeof+e.trim()),l.type===i.MIN_LENGTH&&(a=a&&e.trim().length>=+l.value),l.type===i.MAX_LENGTH&&(a=a&&e.trim().length<=+l.value),l.type===i.MIN&&(a=a&&+e>=+l.value),l.type===i.MAX&&(a=a&&+e<=+l.value),l.type===i.EMAIL&&(a=a&&/^\S+@\S+\.\S+$/.test(e));return a}},800:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var i=a(791),l=a(42),n=a(461),s=a(301),r=a(106),o=a(9),u=a(898),d=a(776),c=a(509),p=a(343),v=a(249);const m="Auth_authentication__9Qqdi";var f=a(184);const h=function(){var e,t;const[a,h]=(0,i.useState)(!0),{error:g,isLoading:I,sendRequest:y,clearError:E}=(0,c.x)(),N=(0,i.useContext)(v.V),[x,_,V]=(0,d.c)({email:{value:"",isValid:!1},password:{value:"",isValid:!1}},!1);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(o.Z,{error:g,onClear:E}),(0,f.jsxs)(l.Z,{className:"".concat(m),children:[I&&(0,f.jsx)(u.Z,{asOverlay:!0}),(0,f.jsx)("h2",{children:"Login Required"}),(0,f.jsx)("hr",{}),(0,f.jsxs)("form",{onSubmit:async function(e){if(e.preventDefault(),a)try{const e=await y({url:"".concat("https://share-place-mern-project-server.onrender.com/api","/users/login"),method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:x.inputs.email.value,password:x.inputs.password.value})});N.login(e.userId,e.token,void 0)}catch(g){console.log(g)}else try{const e=new FormData;e.append("name",x.inputs.name.value),e.append("email",x.inputs.email.value),e.append("password",x.inputs.password.value),e.append("image",x.inputs.image.value);const t=await y({url:"".concat("https://share-place-mern-project-server.onrender.com/api","/users/signup"),method:"POST",body:e});N.login(t.userId,t.token,void 0)}catch(g){console.log(g)}},children:[!a&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(s.Z,{id:"image",center:!0,onInput:_,errorText:"Please provide an image"}),(0,f.jsx)(n.Z,{type:"text",id:"name",label:"Your Name",placeholder:"Your Name",onInput:_,errorText:"Please enter a name.",validators:[(0,p.hg)()]})]}),(0,f.jsx)(n.Z,{type:"email",id:"email",label:"E-mail",placeholder:"E-mail",initialValue:null===(e=x.inputs.email.value)||void 0===e?void 0:e.toString(),onInput:_,errorText:"Please enter a valid e-mail address.",validators:[(0,p.Ox)()]}),(0,f.jsx)(n.Z,{type:"password",id:"password",label:"Password",initialValue:null===(t=x.inputs.password.value)||void 0===t?void 0:t.toString(),onInput:_,placeholder:"Password",errorText:"Please enter a valid password, at least 8 characters.",validators:[(0,p.Ss)(8)]}),(0,f.jsx)(r.Z,{type:"submit",disabled:!x.isValid,children:a?"LOGIN":"SIGN UP"})]}),(0,f.jsxs)(r.Z,{inverse:!0,onClick:function(){a?V({...x.inputs,image:{value:null,isValid:!1},name:{value:"",isValid:!1}},!1):(delete x.inputs.image,delete x.inputs.name,V({...x.inputs},x.inputs.email.isValid&&x.inputs.password.isValid)),h((e=>!e))},children:["SWITCH TO ",a?"SIGN UP":"LOGIN"]})]})]})}}}]);
//# sourceMappingURL=800.84a09f88.chunk.js.map