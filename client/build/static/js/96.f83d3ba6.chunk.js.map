{"version":3,"file":"static/js/96.f83d3ba6.chunk.js","mappings":"4QA4JA,UArIA,WACE,IAAMA,GAAUC,EAAAA,EAAAA,YAA4BC,EAAAA,GACtCC,GAAWC,EAAAA,EAAAA,MACjBC,GAAsDC,EAAAA,EAAAA,KAA9CC,EAAKF,EAALE,MAAOC,EAASH,EAATG,UAAWC,EAAWJ,EAAXI,YAAaC,EAAUL,EAAVK,WACvCC,GAAkCC,EAAAA,EAAAA,GAChC,CACEC,MAAO,CACLC,MAAO,KACPC,SAAS,GAEXC,MAAO,CACLF,MAAO,GACPC,SAAS,GAEXE,YAAa,CACXH,MAAO,GACPC,SAAS,GAEXG,QAAS,CACPJ,MAAO,GACPC,SAAS,GAEXI,SAAU,CACRL,MAAO,GACPC,SAAS,GAEXK,UAAW,CACTN,MAAO,GACPC,SAAS,KAGb,GACDM,GAAAC,EAAAA,EAAAA,GAAAX,EAAA,GA5BMY,EAASF,EAAA,GAAEG,EAAYH,EAAA,GA8BG,SAAAI,IAwBhC,OAxBgCA,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAjC,SAAAC,EACEC,GAAuC,IAAAC,EAAA,OAAAJ,EAAAA,EAAAA,KAAAK,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAU2B,OARlEL,EAAMM,iBAAiBH,EAAAC,KAAA,GAEfH,EAAW,IAAIM,UACZC,OAAO,QAASf,EAAUgB,OAAO1B,MAAMC,OAChDiB,EAASO,OAAO,QAASf,EAAUgB,OAAOvB,MAAMF,OAChDiB,EAASO,OAAO,UAAWf,EAAUgB,OAAOrB,QAAQJ,OACpDiB,EAASO,OAAO,cAAef,EAAUgB,OAAOtB,YAAYH,OAC5DiB,EAASO,OAAO,WAAYf,EAAUgB,OAAOpB,SAASL,OACtDiB,EAASO,OAAO,YAAaf,EAAUgB,OAAOnB,UAAUN,OAAQmB,EAAAE,KAAA,GAC1D1B,EAAY,CAChB+B,IAAI,GAADC,OAAKC,2DAAgC,YACxCC,OAAQ,OACRC,QAAS,CACPC,cAAe,UAAY7C,EAAQ8C,OAErCC,KAAMhB,IACL,KAAD,GACF5B,EAAS,KAAK8B,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAe,GAAAf,EAAA,SAEdgB,QAAQC,IAAGjB,EAAAe,IAAQ,yBAAAf,EAAAkB,OAAA,GAAAtB,EAAA,oBAEtBuB,MAAA,KAAAC,UAAA,CAED,OACEC,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEC,EAAAA,EAAAA,KAACC,EAAAA,EAAU,CAACnD,MAAOA,EAAOoD,QAASjD,KACnC4C,EAAAA,EAAAA,MAAA,QAAMM,UAAS,GAAAnB,OAAKoB,EAAAA,EAAAA,eAAwBC,SA/B9C,SAE+BC,GAAA,OAAAtC,EAAA2B,MAAC,KAADC,UAAA,EA6B4CG,SAAA,CACtEhD,IAAaiD,EAAAA,EAAAA,KAACO,EAAAA,EAAc,CAACC,WAAS,KACvCR,EAAAA,EAAAA,KAACS,EAAAA,EAAW,CACVC,GAAG,QACHC,QAAM,EACNC,QAAS7C,EACT8C,UAAU,6BAEZb,EAAAA,EAAAA,KAACc,EAAAA,EAAK,CACJJ,GAAG,QACHK,MAAM,QACNC,KAAK,OACLJ,QAAS7C,EACTkD,WAAY,EAACC,EAAAA,EAAAA,OACbL,UAAU,iCAEZb,EAAAA,EAAAA,KAACc,EAAAA,EAAK,CACJJ,GAAG,UACHK,MAAM,UACNC,KAAK,WACLJ,QAAS7C,EACTkD,WAAY,EAACE,EAAAA,EAAAA,IAAqB,IAClCN,UAAU,mCAEZb,EAAAA,EAAAA,KAACc,EAAAA,EAAK,CACJJ,GAAG,cACHK,MAAM,cACNC,KAAK,WACLJ,QAAS7C,EACTkD,WAAY,EAACE,EAAAA,EAAAA,IAAqB,IAClCN,UAAU,+DAEZb,EAAAA,EAAAA,KAACc,EAAAA,EAAK,CACJJ,GAAG,WACHK,MAAM,WACNC,KAAK,SACLI,KAAM,GACNC,IAAK,GACLT,QAAS7C,EACTkD,WAAY,EACVC,EAAAA,EAAAA,OACAI,EAAAA,EAAAA,OACAC,EAAAA,EAAAA,KAAe,KACfC,EAAAA,EAAAA,IAAc,KAEhBX,UAAU,mDAEZb,EAAAA,EAAAA,KAACc,EAAAA,EAAK,CACJJ,GAAG,YACHK,MAAM,YACNC,KAAK,SACLI,KAAM,IACNC,IAAK,IACLT,QAAS7C,EACTkD,WAAY,EACVC,EAAAA,EAAAA,OACAI,EAAAA,EAAAA,OACAC,EAAAA,EAAAA,KAAe,MACfC,EAAAA,EAAAA,IAAc,MAEhBX,UAAU,sDAEZb,EAAAA,EAAAA,KAACyB,EAAAA,EAAM,CAACT,KAAK,SAASU,UAAW5D,EAAUR,QAAQyC,SAAC,mBAM5D,C,mGCzJA,EAA+B,kCAA/B,EAAgF,kCAAhF,EAA2H,4BAA3H,EAA+K,2C,SCiB/K,SAAS4B,EAAkBC,EAAyBC,GAClD,OAAQA,EAAOb,MACb,IAAK,eACH,OAAAc,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACKF,GAAK,IACRG,KAAMF,EAAOE,MAAQH,EAAMG,KAC3BzE,QAASuE,EAAOvE,SAAWsE,EAAMtE,UAErC,IAAK,eACH,OAAAwE,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACKF,GAAK,IACRI,eAAgBH,EAAOG,gBAAkBJ,EAAMI,iBAEnD,QACE,OAAOJ,EAEb,CAyFA,MAhFA,SAAqBK,GACnB,IAAAC,GAA8CC,EAAAA,EAAAA,YAAWR,EAAmB,CAC1EI,UAAMK,EACNJ,eAAgB,KAChB1E,SAAS,IACT+E,GAAAxE,EAAAA,EAAAA,GAAAqE,EAAA,GAJKI,EAAeD,EAAA,GAAEE,EAAkBF,EAAA,GAKpCG,GAAgBC,EAAAA,EAAAA,QAAyB,MAyC/C,OAvCAC,EAAAA,EAAAA,YAAU,WACR,GAAIJ,EAAgBP,KAAM,CACxB,IAAMY,EAAa,IAAIC,WACvBD,EAAWE,OAAS,WAClBN,EAAmB,CACjBvB,KAAM,eACNgB,eAAgBW,EAAWG,QAE/B,EACAH,EAAWI,cAAcT,EAAgBP,KAC3C,CACF,GAAG,CAACO,EAAgBP,QA6BlBlC,EAAAA,EAAAA,MAAA,OAAKM,UAAS,GAAAnB,OAAKoB,GAAyBL,SAAA,EAC1CC,EAAAA,EAAAA,KAAA,SACEU,GAAIuB,EAAMvB,GACVsC,IAAKR,EACLS,MAAO,CAAEC,QAAS,QAClBlC,KAAK,OACLmC,OAAO,oBACPC,SAlCN,SAA0B/E,GACxB,IAAIgF,EACAC,EAAchB,EAAgBhF,QAC9Be,EAAMkF,OAAOC,OAAuC,IAA9BnF,EAAMkF,OAAOC,MAAMC,QAC3CJ,EAAahF,EAAMkF,OAAOC,MAAM,GAChCjB,EAAmB,CACjBvB,KAAM,eACNe,KAAMsB,EACN/F,SAAS,IAEXgG,GAAc,IAEdf,EAAmB,CACjBvB,KAAM,eACNe,UAAMK,EACN9E,SAAS,IAEXgG,GAAc,GAEhBrB,EAAMrB,QAAQqB,EAAMvB,GAAI2C,EAAYC,EACtC,KAgBIzD,EAAAA,EAAAA,MAAA,OACEM,UAAS,GAAAnB,OAAKoB,EAAsB,KAAApB,OAClCiD,EAAMtB,OAASP,EAAgB,IAC9BL,SAAA,EAEHF,EAAAA,EAAAA,MAAA,OAAKM,UAAS,GAAAnB,OAAKoB,GAAkCL,SAAA,CAClDuC,EAAgBN,iBACfhC,EAAAA,EAAAA,KAAA,OACE0D,IAAKpB,EAAgBN,eAAe2B,WACpCC,IAAI,aAGNtB,EAAgBN,iBAAkBhC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,8BAEzCC,EAAAA,EAAAA,KAACyB,EAAAA,EAAM,CAACT,KAAK,SAAS6C,QA5B5B,WAAoC,IAADC,EACZ,QAArBA,EAAAtB,EAAcuB,eAAO,IAAAD,GAArBA,EAAuBE,OACzB,EA0BuDjE,SAAC,gBAGhDuC,EAAgBhF,UAAW0C,EAAAA,EAAAA,KAAA,KAAAD,SAAIkC,EAAMpB,iBAI/C,C,kGCxHA,EAA+B,4BAA/B,EAAmF,qC,SCInF,SAASoD,EACPrC,EAMAC,GAOA,OAAQA,EAAOb,MACb,IAAK,SACH,OAAAc,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACKF,GAAK,IACRsC,KAAMrC,EAAOqC,MAAQtC,EAAMsC,KAC3B7G,MAAOwE,EAAOxE,OAAS,GACvBC,SAAS6G,EAAAA,EAAAA,IAAStC,EAAOxE,OAAS,GAAIwE,EAAOZ,cAEjD,IAAK,QACH,OAAAa,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACKF,GAAK,IACRwC,WAAW,IAEf,QACE,OAAOxC,EAEb,CAyGA,MAxFA,SAAeK,GAAwC,IAADoC,EACpDnC,GAAyCC,EAAAA,EAAAA,YAAW8B,EAAc,CAChEC,KAAM,EACN7G,OAAyB,QAAlBgH,EAAApC,EAAMqC,oBAAY,IAAAD,OAAA,EAAlBA,EAAoBV,aAAc,GACzCrG,QAAS2E,EAAMsC,eAAgB,EAC/BH,WAAW,IACX/B,GAAAxE,EAAAA,EAAAA,GAAAqE,EAAA,GALKsC,EAAUnC,EAAA,GAAEoC,EAAkBpC,EAAA,GAO7B3B,EAAgBuB,EAAhBvB,GAAIE,EAAYqB,EAAZrB,QACJvD,EAAmBmH,EAAnBnH,MAAOC,EAAYkH,EAAZlH,QAQf,SAASoH,EACPrG,GAEA,GAA0B,WAAtBA,EAAMkF,OAAOvC,KAAmB,CAClC,IAAI2D,EAAiB,EACrB,GAAIC,OAAOC,UAAUC,WAAWzG,EAAMkF,OAAOlG,QAC3CsH,EAAiB,OACZ,GAAyC,IAArCtG,EAAMkF,OAAOlG,MAAM0H,OAAOtB,OAAc,CACjD,IAAMuB,GAAiB3G,EAAMkF,OAAOlG,MAAM4H,MAAM,KAAK,IAAM,IAAIxB,OAC/DkB,EAAiBG,WAAW,KAAD9F,OAAM,IAAIkG,OAAOF,EAAgB,GAAE,KAChE,CACAP,EAAmB,CACjBzD,KAAM,SACNkD,KAAMS,EACNtH,MAAOgB,EAAMkF,OAAOlG,MACpB4D,WAAYgB,EAAMhB,YAEtB,MACEwD,EAAmB,CACjBzD,KAAM,SACN3D,MAAOgB,EAAMkF,OAAOlG,MACpB4D,WAAYgB,EAAMhB,YAGxB,CAEA,SAASkE,IACPV,EAAmB,CACjBzD,KAAM,SAEV,EApCA0B,EAAAA,EAAAA,YAAU,WACJ9B,GACFA,EAAQF,EAAIrD,EAAOC,EAEvB,GAAG,CAACoD,EAAIrD,EAAOC,EAASsD,IAkCxB,IAAMwE,EACW,aAAfnD,EAAMjB,MACJhB,EAAAA,EAAAA,KAAA,YACEU,GAAIuB,EAAMvB,GACV2E,KAAMpD,EAAMoD,MAAQ,EACpBC,YAAarD,EAAMqD,YACnBlC,SAAUsB,EACVa,OAAQJ,EACR9H,MAAOmH,EAAWnH,SAGpB2C,EAAAA,EAAAA,KAAA,SACEU,GAAIuB,EAAMvB,GACVM,KAAMiB,EAAMjB,KACZI,IAAKa,EAAMb,IACXC,IAAKY,EAAMZ,IACX6C,KAAqB,WAAfjC,EAAMjB,KAAoBwD,EAAWN,UAAO9B,EAClDkD,YAAarD,EAAMqD,YACnBlC,SAAUsB,EACVa,OAAQJ,EACR9H,MAAOmH,EAAWnH,QAIxB,OACEwC,EAAAA,EAAAA,MAAA,OACEM,UAAS,GAAAnB,OAAKoB,EAAsB,KAAApB,QACjCwF,EAAWlH,SAAWkH,EAAWJ,UAC9BhE,EACA,IACHL,SAAA,EAEHC,EAAAA,EAAAA,KAAA,SAAOwF,QAASvD,EAAMvB,GAAGX,SAAEkC,EAAMlB,QAChCqE,GACCZ,EAAWlH,SAAWkH,EAAWJ,YAAapE,EAAAA,EAAAA,KAAA,KAAAD,SAAIkC,EAAMpB,cAGhE,C,mGCzGA,SAAS4E,EAAY7D,EAAyBC,GAC5C,OAAQA,EAAOb,MACb,IAAK,eACH,IAWoB0E,EAXhBC,GAAc,EAClB,IAAK,IAAMC,KAAWhE,EAAM9C,OACrB8C,EAAM9C,OAAO8G,KAIhBD,EADEC,IAAY/D,EAAO+D,QACPD,GAAe9D,EAAOvE,QAEtBqI,GAAe/D,EAAM9C,OAAO8G,GAAStI,SAGvD,GAAIuE,EAAO+D,QACT,OAAA9D,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACKF,GAAK,IACR9C,QAAMgD,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACDF,EAAM9C,QAAM,IAAA+G,EAAAA,EAAAA,GAAA,GACdhE,EAAO+D,QAAU,CAChBvI,MAAmB,QAAdqI,EAAE7D,EAAOxE,aAAK,IAAAqI,EAAAA,EAAI9D,EAAM9C,OAAO+C,EAAO+D,SAASvI,MACpDC,QAASuE,EAAOvE,WAGpBA,QAASqI,IAGb,MACF,IAAK,WACH,MAAO,CACL7G,OAAQ+C,EAAO/C,QAAU8C,EAAM9C,OAC/BxB,QAASuE,EAAOvE,SAAWsE,EAAMtE,SAErC,QACE,OAAOsE,EAEX,OAAAE,EAAAA,EAAAA,GAAA,GACKF,EAEP,CAEO,SAASzE,EACd2I,EACAC,GAEA,IAAA7D,GAAuCC,EAAAA,EAAAA,YAAWsD,EAAa,CAC7D3G,OAAQgH,EACRxI,QAASyI,IAAuB,IAChC1D,GAAAxE,EAAAA,EAAAA,GAAAqE,EAAA,GAHKpE,EAASuE,EAAA,GAAE2D,EAAiB3D,EAAA,GA4BnC,MAAO,CAACvE,GAvBmCmI,EAAAA,EAAAA,cACzC,SAACvF,EAAIrD,EAAOC,GACV0I,EAAkB,CAChBhF,KAAM,eACN4E,QAASlF,EACTrD,MAAOA,EACPC,QAASA,GAEb,GACA,KAGuC2I,EAAAA,EAAAA,cACvC,SAACC,EAAWC,GACVH,EAAkB,CAChBhF,KAAM,WACNlC,OAAQoH,EACR5I,QAAS6I,GAEb,GACA,IAIJ,C,qNC3GYC,EAAa,SAAbA,GAAa,OAAbA,EAAa,kBAAbA,EAAa,gBAAbA,EAAa,wBAAbA,EAAa,wBAAbA,EAAa,UAAbA,EAAa,UAAbA,EAAa,cAAbA,EAAa,YAAbA,CAAa,MAWZlF,EAAoB,WAAH,MAAU,CACtCF,KAAMoF,EAAcC,QACpBhJ,MAAO,GACR,EACYiE,EAAmB,WAAH,MAAU,CACrCN,KAAMoF,EAAcE,OACpBjJ,MAAO,GACR,EACY8D,EAAuB,SAAC9D,GAAsB,MAAM,CAC/D2D,KAAMoF,EAAcG,WACpBlJ,MAAOA,EAAMsG,WACd,EAKYpC,EAAgB,SAAClE,GAAsB,MAAM,CACxD2D,KAAMoF,EAAcI,IACpBnJ,MAAOA,EAAMsG,WACd,EACYnC,EAAgB,SAACnE,GAAsB,MAAM,CACxD2D,KAAMoF,EAAcK,IACpBpJ,MAAOA,EAAMsG,WACd,EACY+C,EAAkB,WAAH,MAAU,CAAE1F,KAAMoF,EAAcO,MAAOtJ,MAAO,GAAI,EAG/D,SAAS8G,EACtB9G,EACA4D,GAEA,IAAI3D,GAAU,EACd,GAAI2D,EAAY,CAAC,IACmB2F,EADpBC,GAAAC,EAAAA,EAAAA,GACU7F,GAAU,IAAlC,IAAA4F,EAAAE,MAAAH,EAAAC,EAAAG,KAAAC,MAAoC,CAAC,IAA1BC,EAASN,EAAAvJ,MACd6J,EAAUlG,OAASoF,EAAcC,UACnC/I,EAAUA,GAAWD,EAAM0H,OAAOtB,OAAS,GAEzCyD,EAAUlG,OAASoF,EAAcE,SACnChJ,EAAUA,GAAoC,kBAAjBD,EAAM0H,QAEjCmC,EAAUlG,OAASoF,EAAcG,aACnCjJ,EAAUA,GAAWD,EAAM0H,OAAOtB,SAAWyD,EAAU7J,OAErD6J,EAAUlG,OAASoF,EAAce,aACnC7J,EAAUA,GAAWD,EAAM0H,OAAOtB,SAAWyD,EAAU7J,OAErD6J,EAAUlG,OAASoF,EAAcI,MACnClJ,EAAUA,IAAYD,IAAU6J,EAAU7J,OAExC6J,EAAUlG,OAASoF,EAAcK,MACnCnJ,EAAUA,IAAYD,IAAU6J,EAAU7J,OAExC6J,EAAUlG,OAASoF,EAAcO,QACnCrJ,EAAUA,GAAW,iBAAiB8J,KAAK/J,GAE/C,CAAC,OAAAgK,GAAAR,EAAAS,EAAAD,EAAA,SAAAR,EAAAU,GAAA,CACH,CACA,OAAOjK,CACT,C,qBCpEA,KAAgB,aAAa,8B","sources":["places/screens/NewPlace.tsx","webpack://client/./src/shared/components/FormElements/ImageUpload.module.css?d18b","shared/components/FormElements/ImageUpload.tsx","webpack://client/./src/shared/components/FormElements/Input.module.css?800c","shared/components/FormElements/Input.tsx","shared/hooks/useForm-hook.ts","shared/utils/validators.ts","webpack://client/./src/places/screens/PlaceForm.module.css?b34f"],"sourcesContent":["import React, { useContext } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nimport Input from \"../../shared/components/FormElements/Input\";\r\nimport ImageUpload from \"../../shared/components/FormElements/ImageUpload\";\r\nimport Button from \"../../shared/components/FormElements/Button\";\r\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/LoadingSpinner\";\r\nimport {\r\n  VALIDATOR_MAX,\r\n  VALIDATOR_MIN,\r\n  VALIDATOR_MIN_LENGTH,\r\n  VALIDATOR_NUMBER,\r\n  VALIDATOR_REQUIRE,\r\n} from \"../../shared/utils/validators\";\r\nimport { useForm } from \"../../shared/hooks/useForm-hook\";\r\nimport { useHttpClient } from \"../../shared/hooks/useHttpClient-hook\";\r\nimport {\r\n  AuthContext,\r\n  AuthContextType,\r\n} from \"../../shared/context/auth/auth-context\";\r\nimport styles from \"./PlaceForm.module.css\";\r\n\r\nfunction NewPlace(): React.ReactElement {\r\n  const authCtx = useContext<AuthContextType>(AuthContext);\r\n  const navigate = useNavigate();\r\n  const { error, isLoading, sendRequest, clearError } = useHttpClient();\r\n  const [formState, inputHandler] = useForm(\r\n    {\r\n      image: {\r\n        value: null,\r\n        isValid: false,\r\n      },\r\n      title: {\r\n        value: \"\",\r\n        isValid: false,\r\n      },\r\n      description: {\r\n        value: \"\",\r\n        isValid: false,\r\n      },\r\n      address: {\r\n        value: \"\",\r\n        isValid: false,\r\n      },\r\n      latitude: {\r\n        value: \"\",\r\n        isValid: false,\r\n      },\r\n      longitude: {\r\n        value: \"\",\r\n        isValid: false,\r\n      },\r\n    },\r\n    false\r\n  );\r\n\r\n  async function placeSubmitHandler(\r\n    event: React.FormEvent<HTMLFormElement>\r\n  ): Promise<void> {\r\n    event.preventDefault();\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append(\"image\", formState.inputs.image.value!);\r\n      formData.append(\"title\", formState.inputs.title.value!);\r\n      formData.append(\"address\", formState.inputs.address.value!);\r\n      formData.append(\"description\", formState.inputs.description.value!);\r\n      formData.append(\"latitude\", formState.inputs.latitude.value!);\r\n      formData.append(\"longitude\", formState.inputs.longitude.value!);\r\n      await sendRequest({\r\n        url: `${process.env.REACT_APP_SERVER_URL}/places/`,\r\n        method: \"POST\",\r\n        headers: {\r\n          Authorization: \"Bearer \" + authCtx.token,\r\n        },\r\n        body: formData,\r\n      });\r\n      navigate(\"/\");\r\n    } catch (error: any) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <ErrorModal error={error} onClear={clearError} />\r\n      <form className={`${styles[\"place-form\"]}`} onSubmit={placeSubmitHandler}>\r\n        {isLoading && <LoadingSpinner asOverlay />}\r\n        <ImageUpload\r\n          id=\"image\"\r\n          center\r\n          onInput={inputHandler}\r\n          errorText=\"Please provide an image\"\r\n        />\r\n        <Input\r\n          id=\"title\"\r\n          label=\"Title\"\r\n          type=\"text\"\r\n          onInput={inputHandler}\r\n          validators={[VALIDATOR_REQUIRE()]}\r\n          errorText=\"Please enter a valid title.\"\r\n        />\r\n        <Input\r\n          id=\"address\"\r\n          label=\"Address\"\r\n          type=\"textarea\"\r\n          onInput={inputHandler}\r\n          validators={[VALIDATOR_MIN_LENGTH(5)]}\r\n          errorText=\"Please enter a valid address.\"\r\n        />\r\n        <Input\r\n          id=\"description\"\r\n          label=\"Description\"\r\n          type=\"textarea\"\r\n          onInput={inputHandler}\r\n          validators={[VALIDATOR_MIN_LENGTH(5)]}\r\n          errorText=\"Please enter a valid description (at least 5 characters).\"\r\n        />\r\n        <Input\r\n          id=\"latitude\"\r\n          label=\"Latitude\"\r\n          type=\"number\"\r\n          min={-91}\r\n          max={90}\r\n          onInput={inputHandler}\r\n          validators={[\r\n            VALIDATOR_REQUIRE(),\r\n            VALIDATOR_NUMBER(),\r\n            VALIDATOR_MIN(-91),\r\n            VALIDATOR_MAX(90),\r\n          ]}\r\n          errorText=\"Latitude should be between -90 to 90 degrees.\"\r\n        />\r\n        <Input\r\n          id=\"longitude\"\r\n          label=\"Longitude\"\r\n          type=\"number\"\r\n          min={-181}\r\n          max={180}\r\n          onInput={inputHandler}\r\n          validators={[\r\n            VALIDATOR_REQUIRE(),\r\n            VALIDATOR_NUMBER(),\r\n            VALIDATOR_MIN(-181),\r\n            VALIDATOR_MAX(180),\r\n          ]}\r\n          errorText=\"Longitude should be between -180 to 180 degrees.\"\r\n        />\r\n        <Button type=\"submit\" disabled={!formState.isValid}>\r\n          ADD PLACE\r\n        </Button>\r\n      </form>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default NewPlace;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"form-control\":\"ImageUpload_form-control__S+NdZ\",\"image-upload\":\"ImageUpload_image-upload__CzPQI\",\"center\":\"ImageUpload_center__jXDTo\",\"image-upload__preview\":\"ImageUpload_image-upload__preview__+ww3b\"};","import React, { useEffect, useReducer, useRef } from \"react\";\r\n\r\nimport Button from \"./Button\";\r\nimport styles from \"./ImageUpload.module.css\";\r\n\r\ntype FileReducerState = {\r\n  file: File | undefined;\r\n  filePreviewUrl: string | ArrayBuffer | null;\r\n  isValid: boolean;\r\n};\r\n\r\ntype FileReducerAction = {\r\n  type: string;\r\n  file?: File | undefined;\r\n  filePreviewUrl?: string | ArrayBuffer | null;\r\n  isValid?: boolean;\r\n};\r\n\r\nfunction filePickerReducer(state: FileReducerState, action: FileReducerAction) {\r\n  switch (action.type) {\r\n    case \"INPUT_CHANGE\":\r\n      return {\r\n        ...state,\r\n        file: action.file || state.file,\r\n        isValid: action.isValid || state.isValid,\r\n      };\r\n    case \"PREVIEW_FILE\":\r\n      return {\r\n        ...state,\r\n        filePreviewUrl: action.filePreviewUrl || state.filePreviewUrl,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\ninterface ImageUploadProps extends React.PropsWithChildren {\r\n  id: string;\r\n  errorText?: string;\r\n  center?: boolean;\r\n  onInput: (id: string, file: File | undefined, isValid: boolean) => void;\r\n}\r\n\r\nfunction ImageUpload(props: ImageUploadProps): React.ReactElement {\r\n  const [filePickerState, dispatchFilePicker] = useReducer(filePickerReducer, {\r\n    file: undefined,\r\n    filePreviewUrl: null,\r\n    isValid: false,\r\n  });\r\n  const filePickerRef = useRef<HTMLInputElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (filePickerState.file) {\r\n      const fileReader = new FileReader();\r\n      fileReader.onload = () => {\r\n        dispatchFilePicker({\r\n          type: \"PREVIEW_FILE\",\r\n          filePreviewUrl: fileReader.result,\r\n        });\r\n      };\r\n      fileReader.readAsDataURL(filePickerState.file);\r\n    }\r\n  }, [filePickerState.file]);\r\n\r\n  function pickImageHandler(event: React.ChangeEvent<HTMLInputElement>): void {\r\n    let pickedFile;\r\n    let fileIsValid = filePickerState.isValid;\r\n    if (event.target.files && event.target.files.length === 1) {\r\n      pickedFile = event.target.files[0];\r\n      dispatchFilePicker({\r\n        type: \"INPUT_CHANGE\",\r\n        file: pickedFile,\r\n        isValid: true,\r\n      });\r\n      fileIsValid = true;\r\n    } else {\r\n      dispatchFilePicker({\r\n        type: \"INPUT_CHANGE\",\r\n        file: undefined,\r\n        isValid: false,\r\n      });\r\n      fileIsValid = false;\r\n    }\r\n    props.onInput(props.id, pickedFile, fileIsValid);\r\n  }\r\n\r\n  function pickButtonHandler(): void {\r\n    filePickerRef.current?.click();\r\n  }\r\n\r\n  return (\r\n    <div className={`${styles[\"form-control\"]}`}>\r\n      <input\r\n        id={props.id}\r\n        ref={filePickerRef}\r\n        style={{ display: \"none\" }}\r\n        type=\"file\"\r\n        accept=\".png, .jpg, .jpeg\"\r\n        onChange={pickImageHandler}\r\n      />\r\n      <div\r\n        className={`${styles[\"image-upload\"]} ${\r\n          props.center ? styles.center : \"\"\r\n        }`}\r\n      >\r\n        <div className={`${styles[\"image-upload__preview\"]}`}>\r\n          {filePickerState.filePreviewUrl && (\r\n            <img\r\n              src={filePickerState.filePreviewUrl.toString()}\r\n              alt=\"Preview\"\r\n            />\r\n          )}\r\n          {!filePickerState.filePreviewUrl && <p>Please pick an image.</p>}\r\n        </div>\r\n        <Button type=\"button\" onClick={pickButtonHandler}>\r\n          PICK IMAGE\r\n        </Button>\r\n        {!filePickerState.isValid && <p>{props.errorText}</p>}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImageUpload;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"form-control\":\"Input_form-control__4leYh\",\"form-control--invalid\":\"Input_form-control--invalid__JOT1a\"};","import React, { useEffect, useReducer } from \"react\";\r\n\r\nimport validate, { ValidatorType } from \"../../utils/validators\";\r\nimport styles from \"./Input.module.css\";\r\n\r\nfunction inputReducer(\r\n  state: {\r\n    step: number;\r\n    value: string;\r\n    isValid: boolean;\r\n    isTouched: boolean;\r\n  },\r\n  action: {\r\n    type: string;\r\n    step?: number;\r\n    value?: string;\r\n    validators?: { type: ValidatorType; value: string }[];\r\n  }\r\n) {\r\n  switch (action.type) {\r\n    case \"CHANGE\":\r\n      return {\r\n        ...state,\r\n        step: action.step || state.step,\r\n        value: action.value || \"\",\r\n        isValid: validate(action.value || \"\", action.validators),\r\n      };\r\n    case \"TOUCH\":\r\n      return {\r\n        ...state,\r\n        isTouched: true,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\ninterface InputProps {\r\n  id: string;\r\n  type: string;\r\n  label: string;\r\n  errorText: string;\r\n  initialValid?: boolean;\r\n  initialValue?: string | number;\r\n  validators?: { type: ValidatorType; value: string }[];\r\n  rows?: number;\r\n  min?: number;\r\n  max?: number;\r\n  placeholder?: string;\r\n  onInput?: (a: string, b: string, c: boolean) => void;\r\n}\r\n\r\nfunction Input(props: InputProps): React.ReactElement {\r\n  const [inputState, dispatchInputState] = useReducer(inputReducer, {\r\n    step: 1,\r\n    value: props.initialValue?.toString() || \"\",\r\n    isValid: props.initialValid || false,\r\n    isTouched: false,\r\n  });\r\n\r\n  const { id, onInput } = props;\r\n  const { value, isValid } = inputState;\r\n\r\n  useEffect(() => {\r\n    if (onInput) {\r\n      onInput(id, value, isValid);\r\n    }\r\n  }, [id, value, isValid, onInput]);\r\n\r\n  function changeHandler(\r\n    event: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>\r\n  ): void {\r\n    if (event.target.type === \"number\") {\r\n      let inputStepValue = 1;\r\n      if (Number.isInteger(parseFloat(event.target.value))) {\r\n        inputStepValue = 1;\r\n      } else if (event.target.value.trim().length !== 0) {\r\n        const decimalPlaces = (event.target.value.split(\".\")[1] || \"\").length;\r\n        inputStepValue = parseFloat(`0.${\"0\".repeat(decimalPlaces - 1)}1`);\r\n      }\r\n      dispatchInputState({\r\n        type: \"CHANGE\",\r\n        step: inputStepValue,\r\n        value: event.target.value,\r\n        validators: props.validators,\r\n      });\r\n    } else {\r\n      dispatchInputState({\r\n        type: \"CHANGE\",\r\n        value: event.target.value,\r\n        validators: props.validators,\r\n      });\r\n    }\r\n  }\r\n\r\n  function touchHandler(): void {\r\n    dispatchInputState({\r\n      type: \"TOUCH\",\r\n    });\r\n  }\r\n\r\n  const inputElement =\r\n    props.type === \"textarea\" ? (\r\n      <textarea\r\n        id={props.id}\r\n        rows={props.rows || 3}\r\n        placeholder={props.placeholder}\r\n        onChange={changeHandler}\r\n        onBlur={touchHandler}\r\n        value={inputState.value}\r\n      />\r\n    ) : (\r\n      <input\r\n        id={props.id}\r\n        type={props.type}\r\n        min={props.min}\r\n        max={props.max}\r\n        step={props.type === \"number\" ? inputState.step : undefined}\r\n        placeholder={props.placeholder}\r\n        onChange={changeHandler}\r\n        onBlur={touchHandler}\r\n        value={inputState.value}\r\n      />\r\n    );\r\n\r\n  return (\r\n    <div\r\n      className={`${styles[\"form-control\"]} ${\r\n        !inputState.isValid && inputState.isTouched\r\n          ? styles[\"form-control--invalid\"]\r\n          : \"\"\r\n      }`}\r\n    >\r\n      <label htmlFor={props.id}>{props.label}</label>\r\n      {inputElement}\r\n      {!inputState.isValid && inputState.isTouched && <p>{props.errorText}</p>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Input;\r\n","import { useCallback, useReducer } from \"react\";\r\n\r\ntype InitialInputs = {\r\n  [key: string]: {\r\n    value: string | File | null;\r\n    isValid: boolean;\r\n  };\r\n};\r\n\r\ntype FormReducerState = {\r\n  inputs: InitialInputs;\r\n  isValid: boolean;\r\n};\r\n\r\ntype FormReducerAction = {\r\n  type: string;\r\n  isValid: boolean;\r\n  value?: string | File;\r\n  inputId?: string;\r\n  inputs?: InitialInputs;\r\n};\r\n\r\ntype InputHandlerFunction = (\r\n  id: string,\r\n  value: string | File | undefined,\r\n  isValid: boolean\r\n) => void;\r\n\r\ntype SetFormDataFunction = (\r\n  inputData: InitialInputs,\r\n  formValidity: boolean\r\n) => void;\r\n\r\nfunction formReducer(state: FormReducerState, action: FormReducerAction) {\r\n  switch (action.type) {\r\n    case \"INPUT_CHANGE\":\r\n      let formIsValid = true;\r\n      for (const inputId in state.inputs) {\r\n        if (!state.inputs[inputId]) {\r\n          continue;\r\n        }\r\n        if (inputId === action.inputId) {\r\n          formIsValid = formIsValid && action.isValid;\r\n        } else {\r\n          formIsValid = formIsValid && state.inputs[inputId].isValid;\r\n        }\r\n      }\r\n      if (action.inputId) {\r\n        return {\r\n          ...state,\r\n          inputs: {\r\n            ...state.inputs,\r\n            [action.inputId]: {\r\n              value: action.value ?? state.inputs[action.inputId].value,\r\n              isValid: action.isValid,\r\n            },\r\n          },\r\n          isValid: formIsValid,\r\n        };\r\n      }\r\n      break;\r\n    case \"SET_DATA\":\r\n      return {\r\n        inputs: action.inputs || state.inputs,\r\n        isValid: action.isValid || state.isValid,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n  return {\r\n    ...state,\r\n  };\r\n}\r\n\r\nexport function useForm(\r\n  initialInputs: InitialInputs,\r\n  initialFormValidity?: boolean\r\n): [FormReducerState, InputHandlerFunction, SetFormDataFunction] {\r\n  const [formState, dispatchFormState] = useReducer(formReducer, {\r\n    inputs: initialInputs,\r\n    isValid: initialFormValidity || false,\r\n  });\r\n\r\n  const inputHandler: InputHandlerFunction = useCallback(\r\n    (id, value, isValid) => {\r\n      dispatchFormState({\r\n        type: \"INPUT_CHANGE\",\r\n        inputId: id,\r\n        value: value,\r\n        isValid: isValid,\r\n      });\r\n    },\r\n    []\r\n  );\r\n\r\n  const setFormData: SetFormDataFunction = useCallback(\r\n    (inputData, formValidity) => {\r\n      dispatchFormState({\r\n        type: \"SET_DATA\",\r\n        inputs: inputData,\r\n        isValid: formValidity,\r\n      });\r\n    },\r\n    []\r\n  );\r\n\r\n  return [formState, inputHandler, setFormData];\r\n}\r\n","export enum ValidatorType {\r\n  REQUIRE = \"REQUIRE\",\r\n  NUMBER = \"NUMBER\",\r\n  MIN_LENGTH = \"MIN_LENGTH\",\r\n  MAX_LENGTH = \"MAX_lENGTH\",\r\n  MIN = \"MIN\",\r\n  MAX = \"MAX\",\r\n  EMAIL = \"EMAIL\",\r\n  FILE = \"FILE\",\r\n}\r\n\r\nexport const VALIDATOR_REQUIRE = () => ({\r\n  type: ValidatorType.REQUIRE,\r\n  value: \"\",\r\n});\r\nexport const VALIDATOR_NUMBER = () => ({\r\n  type: ValidatorType.NUMBER,\r\n  value: \"\",\r\n});\r\nexport const VALIDATOR_MIN_LENGTH = (value: string | number) => ({\r\n  type: ValidatorType.MIN_LENGTH,\r\n  value: value.toString(),\r\n});\r\nexport const VALIDATOR_MAX_LENGTH = (value: string | number) => ({\r\n  type: ValidatorType.MAX_LENGTH,\r\n  value: value.toString(),\r\n});\r\nexport const VALIDATOR_MIN = (value: string | number) => ({\r\n  type: ValidatorType.MIN,\r\n  value: value.toString(),\r\n});\r\nexport const VALIDATOR_MAX = (value: string | number) => ({\r\n  type: ValidatorType.MAX,\r\n  value: value.toString(),\r\n});\r\nexport const VALIDATOR_EMAIL = () => ({ type: ValidatorType.EMAIL, value: \"\" });\r\nexport const VALIDATOR_FILE = () => ({ type: ValidatorType.FILE, value: \"\" });\r\n\r\nexport default function validate(\r\n  value: string,\r\n  validators?: { type: ValidatorType; value: string | number }[]\r\n): boolean {\r\n  let isValid = true;\r\n  if (validators) {\r\n    for (const validator of validators) {\r\n      if (validator.type === ValidatorType.REQUIRE) {\r\n        isValid = isValid && value.trim().length > 0;\r\n      }\r\n      if (validator.type === ValidatorType.NUMBER) {\r\n        isValid = isValid && typeof +value.trim() === \"number\";\r\n      }\r\n      if (validator.type === ValidatorType.MIN_LENGTH) {\r\n        isValid = isValid && value.trim().length >= +validator.value;\r\n      }\r\n      if (validator.type === ValidatorType.MAX_LENGTH) {\r\n        isValid = isValid && value.trim().length <= +validator.value;\r\n      }\r\n      if (validator.type === ValidatorType.MIN) {\r\n        isValid = isValid && +value >= +validator.value;\r\n      }\r\n      if (validator.type === ValidatorType.MAX) {\r\n        isValid = isValid && +value <= +validator.value;\r\n      }\r\n      if (validator.type === ValidatorType.EMAIL) {\r\n        isValid = isValid && /^\\S+@\\S+\\.\\S+$/.test(value);\r\n      }\r\n    }\r\n  }\r\n  return isValid;\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"place-form\":\"PlaceForm_place-form__PS6qS\"};"],"names":["authCtx","useContext","AuthContext","navigate","useNavigate","_useHttpClient","useHttpClient","error","isLoading","sendRequest","clearError","_useForm","useForm","image","value","isValid","title","description","address","latitude","longitude","_useForm2","_slicedToArray","formState","inputHandler","_placeSubmitHandler","_asyncToGenerator","_regeneratorRuntime","mark","_callee","event","formData","wrap","_context","prev","next","preventDefault","FormData","append","inputs","url","concat","process","method","headers","Authorization","token","body","t0","console","log","stop","apply","arguments","_jsxs","_Fragment","children","_jsx","ErrorModal","onClear","className","styles","onSubmit","_x","LoadingSpinner","asOverlay","ImageUpload","id","center","onInput","errorText","Input","label","type","validators","VALIDATOR_REQUIRE","VALIDATOR_MIN_LENGTH","min","max","VALIDATOR_NUMBER","VALIDATOR_MIN","VALIDATOR_MAX","Button","disabled","filePickerReducer","state","action","_objectSpread","file","filePreviewUrl","props","_useReducer","useReducer","undefined","_useReducer2","filePickerState","dispatchFilePicker","filePickerRef","useRef","useEffect","fileReader","FileReader","onload","result","readAsDataURL","ref","style","display","accept","onChange","pickedFile","fileIsValid","target","files","length","src","toString","alt","onClick","_filePickerRef$curren","current","click","inputReducer","step","validate","isTouched","_props$initialValue","initialValue","initialValid","inputState","dispatchInputState","changeHandler","inputStepValue","Number","isInteger","parseFloat","trim","decimalPlaces","split","repeat","touchHandler","inputElement","rows","placeholder","onBlur","htmlFor","formReducer","_action$value","formIsValid","inputId","_defineProperty","initialInputs","initialFormValidity","dispatchFormState","useCallback","inputData","formValidity","ValidatorType","REQUIRE","NUMBER","MIN_LENGTH","MIN","MAX","VALIDATOR_EMAIL","EMAIL","_step","_iterator","_createForOfIteratorHelper","s","n","done","validator","MAX_LENGTH","test","err","e","f"],"sourceRoot":""}