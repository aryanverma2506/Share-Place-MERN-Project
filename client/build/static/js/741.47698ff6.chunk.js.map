{"version":3,"file":"static/js/741.47698ff6.chunk.js","mappings":"+OACA,EAAsB,iBAAtB,EAAkD,sB,SCIlDA,IAAAA,YAAuBC,oGAwDvB,MA9CA,SAAaC,GACX,IAAMC,GAAeC,EAAAA,EAAAA,QAA8B,MACnDC,GAA8BC,EAAAA,EAAAA,UAAiB,gBAAeC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAvDI,EAAOF,EAAA,GAAEG,EAAUH,EAAA,GAElBI,EAAwBT,EAAxBS,MAAOC,EAAiBV,EAAjBU,OAAQC,EAASX,EAATW,KAoBvB,OAlBAC,EAAAA,EAAAA,YAAU,WACR,GAAIX,EAAaY,QAAS,CACxB,IAAMC,EAAM,IAAIhB,IAAAA,KAAa,CAC3BiB,UAAWd,EAAaY,QACxBG,MAAM,0BAADC,OAA4BV,GACjCG,OAAQA,EACRC,KAAMA,IAEFO,GAAS,IAAIpB,IAAAA,SAAkBqB,UAAUT,GAAQU,MAAMN,GACvDO,GAAQ,IAAIvB,IAAAA,QAAiBwB,QAAQb,GAC3CS,EAAOK,SAASF,EAClB,CACF,GAAG,CAACd,EAASE,EAAOC,EAAQC,KAO1Ba,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEC,EAAAA,EAAAA,KAAA,OACEC,UAAS,GAAAX,OAAKY,EAAU,KAAAZ,OAAIjB,EAAM4B,WAClCZ,MAAOhB,EAAMgB,MACbc,IAAK7B,KAEPuB,EAAAA,EAAAA,MAAA,UACEI,UAAS,GAAAX,OAAKY,GACdE,aAAc,eACdC,SAdN,SAAwBC,GACtBzB,GAAW,kBAAMyB,EAAMC,OAAOC,KAAK,GACrC,EAY+BT,SAAA,EAEzBC,EAAAA,EAAAA,KAAA,UAAQQ,MAAM,wBAAuBT,SAAC,uBACtCC,EAAAA,EAAAA,KAAA,UAAQQ,MAAM,YAAWT,SAAC,WAC1BC,EAAAA,EAAAA,KAAA,UAAQQ,MAAM,WAAUT,SAAC,UACzBC,EAAAA,EAAAA,KAAA,UAAQQ,MAAM,cAAaT,SAAC,aAC5BC,EAAAA,EAAAA,KAAA,UAAQQ,MAAM,eAAcT,SAAC,kBAIrC,E,iDC1DA,EAA6B,8BAA7B,EAAiF,uCAAjF,EAA2I,oCAA3I,EAAmM,qCAAnM,EAA8P,uCAA9P,EAAiU,6CAAjU,EAA0Y,6CAA1Y,EAAuc,iCCsIvc,MA7GA,SAAmB1B,GACjB,IAAAG,GAA8BC,EAAAA,EAAAA,WAAkB,GAAMC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA/CiC,EAAO/B,EAAA,GAAEgC,EAAUhC,EAAA,GAC1BiC,GAAkDlC,EAAAA,EAAAA,WAAkB,GAAMmC,GAAAjC,EAAAA,EAAAA,GAAAgC,EAAA,GAAnEE,EAAiBD,EAAA,GAAEE,EAAoBF,EAAA,GAC9CG,GAAsDC,EAAAA,EAAAA,KAA9CC,EAAKF,EAALE,MAAOC,EAASH,EAATG,UAAWC,EAAWJ,EAAXI,YAAaC,EAAUL,EAAVK,WACjCC,GAAUC,EAAAA,EAAAA,YAA4BC,EAAAA,GAM5C,SAASC,IACPd,GAAW,kBAAM,CAAK,GACxB,CAMA,SAASe,IACPX,GAAqB,kBAAM,CAAK,GAClC,CAEmC,SAAAY,IAclC,OAdkCA,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAnC,SAAAC,IAAA,OAAAF,EAAAA,EAAAA,KAAAG,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACoC,OAAlCpB,GAAqB,kBAAM,CAAK,IAAEkB,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAE1Bf,EAAY,CAChBgB,IAAI,GAAD7C,OAAKlB,4BAAgC,YAAAkB,OAAWjB,EAAM+D,IACzDC,OAAQ,SACRC,QAAS,CACPC,cAAe,UAAYlB,EAAQmB,SAEpC,KAAD,EACFnE,EAAMoE,SAASpE,EAAM+D,IAAIJ,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAU,GAAAV,EAAA,SAEzBW,QAAQC,IAAGZ,EAAAU,IAAQ,yBAAAV,EAAAa,OAAA,GAAAf,EAAA,mBAEtBgB,MAAA,KAAAC,UAAA,CAED,OACElD,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEC,EAAAA,EAAAA,KAACgD,EAAAA,EAAU,CAAC/B,MAAOA,EAAOgC,QAAS7B,KACnCpB,EAAAA,EAAAA,KAACkD,EAAAA,EAAK,CACJC,KAAM1C,EACN2C,SAAU5B,EACV6B,OAAQhF,EAAMiF,QACdC,QAAQvD,EAAAA,EAAAA,KAACwD,EAAAA,EAAM,CAACC,QAASjC,EAAgBzB,SAAC,UAC1C2D,aAAY,GAAApE,OAAKY,GACjByD,YAAW,GAAArE,OAAKY,GAAsCH,UAEtDC,EAAAA,EAAAA,KAAA,OAAKC,UAAS,GAAAX,OAAKY,GAA0BH,UAC3CC,EAAAA,EAAAA,KAAC4D,EAAG,CAAC9E,MAAOT,EAAMS,MAAOC,OAAQV,EAAMwF,YAAa7E,KAAM,SAG7DqC,EAAQyC,SAAWzF,EAAM0F,YACxB/D,EAAAA,EAAAA,KAACkD,EAAAA,EAAK,CACJC,KAAMtC,EACNuC,SAAU3B,EACV4B,OAAO,gBACPM,YAAW,GAAArE,OAAKY,GAChBqD,QACE1D,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEC,EAAAA,EAAAA,KAACwD,EAAAA,EAAM,CAACQ,SAAO,EAACP,QAAShC,EAAoB1B,SAAC,YAG9CC,EAAAA,EAAAA,KAACwD,EAAAA,EAAM,CAACS,QAAM,EAACR,QA5C1B,WAEkC,OAAA/B,EAAAoB,MAAC,KAADC,UAAA,EA0CsBhD,SAAC,cAIjDA,UAEDC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,qGAMPC,EAAAA,EAAAA,KAAA,MAAIC,UAAS,GAAAX,OAAKY,GAAuBH,UACvCF,EAAAA,EAAAA,MAACqE,EAAAA,EAAI,CAACjE,UAAS,GAAAX,OAAKY,GAAgCH,SAAA,CACjDmB,IAAalB,EAAAA,EAAAA,KAACmE,EAAAA,EAAc,CAACC,WAAS,KACvCpE,EAAAA,EAAAA,KAAA,OAAKC,UAAS,GAAAX,OAAKY,GAA8BH,UAC/CC,EAAAA,EAAAA,KAAA,OACEqE,IAAG,GAAA/E,OAAKlB,wBAA+B,KAAAkB,OAAIjB,EAAMiG,OACjDC,IAAKlG,EAAMS,WAGfe,EAAAA,EAAAA,MAAA,OAAKI,UAAS,GAAAX,OAAKY,GAA6BH,SAAA,EAC9CC,EAAAA,EAAAA,KAAA,MAAAD,SAAK1B,EAAMS,SACXkB,EAAAA,EAAAA,KAAA,MAAAD,SAAK1B,EAAMiF,WACXtD,EAAAA,EAAAA,KAAA,KAAAD,SAAI1B,EAAMmG,kBAEZ3E,EAAAA,EAAAA,MAAA,OAAKI,UAAS,GAAAX,OAAKY,GAAgCH,SAAA,EACjDC,EAAAA,EAAAA,KAACwD,EAAAA,EAAM,CAACQ,SAAO,EAACP,QArF1B,WACE/C,GAAW,kBAAM,CAAI,GACvB,EAmFkDX,SAAC,gBAGxCsB,EAAQyC,SAAWzF,EAAM0F,YACxBlE,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEC,EAAAA,EAAAA,KAACwD,EAAAA,EAAM,CAACiB,GAAE,WAAAnF,OAAajB,EAAM+D,IAAKrC,SAAC,UACnCC,EAAAA,EAAAA,KAACwD,EAAAA,EAAM,CAACS,QAAM,EAACR,QAnF7B,WACE3C,GAAqB,kBAAM,CAAI,GACjC,EAiF+Df,SAAC,wBAUlE,ECpIA,EAA6B,8BCwD7B,MAtCA,SAAmB1B,GACjB,IAAMgD,GAAUC,EAAAA,EAAAA,YAA4BC,EAAAA,GACtCuC,GAASY,EAAAA,EAAAA,MAAYZ,OAC3B,OAA4B,IAAxBzF,EAAMsG,OAAOC,QAEb5E,EAAAA,EAAAA,KAAA,OAAKC,UAAS,GAAAX,OAAKY,EAAoB,WAAUH,SAC9CsB,EAAQwD,YAAcxD,EAAQyC,SAAWA,GACxCjE,EAAAA,EAAAA,MAACqE,EAAAA,EAAI,CAAAnE,SAAA,EACHC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,wCACJC,EAAAA,EAAAA,KAACwD,EAAAA,EAAM,CAACiB,GAAG,cAAa1E,SAAC,oBAG3BC,EAAAA,EAAAA,KAACkE,EAAAA,EAAI,CAAAnE,UACHC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,0BAOZC,EAAAA,EAAAA,KAAA,MAAIC,UAAS,GAAAX,OAAKY,GAAuBH,SACtC1B,EAAMsG,OAAOxF,KAAI,SAAC2F,GAAK,OACtB9E,EAAAA,EAAAA,KAAC+E,EAAS,CAER3C,GAAI0C,EAAM1C,GACVtD,MAAOgG,EAAMhG,MACbwF,MAAOQ,EAAMR,MACbhB,QAASwB,EAAMxB,QACfS,UAAWe,EAAME,QACjBnB,YAAaiB,EAAMG,SACnBT,YAAaM,EAAMN,YACnB/B,SAAUpE,EAAM6G,eARXJ,EAAM1C,GASX,KAIV,ECSA,MAlDA,WACE,IAAM0B,GAASY,EAAAA,EAAAA,MAAYZ,OAC3B/C,GAAsDC,EAAAA,EAAAA,KAA9CC,EAAKF,EAALE,MAAOC,EAASH,EAATG,UAAWC,EAAWJ,EAAXI,YAAaC,EAAUL,EAAVK,WACvC5C,GAAwCC,EAAAA,EAAAA,UAEtC,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAFE2G,EAAYzG,EAAA,GAAE0G,EAAe1G,EAAA,GAgCpC,OA5BAO,EAAAA,EAAAA,YAAU,WACsB,SAAAoG,IAgB7B,OAhB6BA,GAAA1D,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAA9B,SAAAC,IAAA,IAAAwD,EAAA,OAAA1D,EAAAA,EAAAA,KAAAG,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAE+Bf,EAA0B,CACnDgB,IAAI,GAAD7C,OAAKlB,4BAAgC,kBAAAkB,OAAiBwE,KACxD,KAAD,EAFIwB,EAAYtD,EAAAuD,KAGlBH,GAAgB,kBAAME,EAAaX,MAAM,IAAE3C,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAU,GAAAV,EAAA,SAGvB,sDAAlBA,EAAAU,GAAM8C,QAENJ,GAAgB,iBAAM,EAAE,IAExBA,GAAgB,WAAe,IAEjCzC,QAAQC,IAAGZ,EAAAU,IAAQ,yBAAAV,EAAAa,OAAA,GAAAf,EAAA,mBAEtBgB,MAAA,KAAAC,UAAA,EAjBc,WACesC,EAAAvC,MAAC,KAADC,UAAA,CAkB9B0C,EACF,GAAG,CAAC3B,EAAQ3C,KASVtB,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACIoF,IAAgBnF,EAAAA,EAAAA,KAACgD,EAAAA,EAAU,CAAC/B,MAAOA,EAAOgC,QAAS7B,IACpDF,IACClB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,SAAQF,UACrBC,EAAAA,EAAAA,KAACmE,EAAAA,EAAc,CAACC,WAAS,OAG3BlD,GAAaiE,IACbnF,EAAAA,EAAAA,KAAC0F,EAAS,CAACf,OAAQQ,EAAcD,cAfvC,SAA4BS,GAC1BP,GAAgB,SAACQ,GAAU,OACf,OAAVA,QAAU,IAAVA,OAAU,EAAVA,EAAYC,QAAO,SAACf,GAAK,OAAKA,EAAM1C,KAAOuD,CAAc,GAAC,GAE9D,MAeF,C,mEC7DA,EAAuB,mB,SCgBvB,MARA,SAActH,GACZ,OACE2B,EAAAA,EAAAA,KAAA,OAAKC,UAAS,GAAAX,OAAKY,EAAW,KAAAZ,OAAIjB,EAAM4B,WAAaZ,MAAOhB,EAAMgB,MAAMU,SACrE1B,EAAM0B,UAGb,C","sources":["webpack://client/./src/shared/components/UIElements/Map.module.css?3dac","shared/components/UIElements/Map.tsx","webpack://client/./src/places/components/PlaceItem.module.css?3b1b","places/components/PlaceItem.tsx","webpack://client/./src/places/components/PlaceList.module.css?8625","places/components/PlaceList.tsx","places/screens/UserPlaces.tsx","webpack://client/./src/shared/components/UIElements/Card.module.css?5bd3","shared/components/UIElements/Card.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"map\":\"Map_map__ccaPJ\",\"map-menu\":\"Map_map-menu__3vaNN\"};","import React, { useEffect, useRef, useState } from \"react\";\r\nimport mapboxgl from \"mapbox-gl\";\r\n\r\nimport styles from \"./Map.module.css\";\r\n\r\nmapboxgl.accessToken = process.env.REACT_APP_MAPBOX_ACCESS_TOKEN!;\r\n\r\ninterface MapProps extends React.PropsWithChildren {\r\n  title: string;\r\n  zoom: number;\r\n  center: [number, number];\r\n  className?: string;\r\n  style?: Object;\r\n}\r\n\r\nfunction Map(props: MapProps): React.ReactElement {\r\n  const mapContainer = useRef<HTMLDivElement | null>(null);\r\n  const [mapView, setMapView] = useState<string>(\"outdoors-v12\");\r\n\r\n  const { title, center, zoom } = props;\r\n\r\n  useEffect(() => {\r\n    if (mapContainer.current) {\r\n      const map = new mapboxgl.Map({\r\n        container: mapContainer.current,\r\n        style: `mapbox://styles/mapbox/${mapView}`,\r\n        center: center,\r\n        zoom: zoom,\r\n      });\r\n      const marker = new mapboxgl.Marker().setLngLat(center).addTo(map);\r\n      const popup = new mapboxgl.Popup().setHTML(title);\r\n      marker.setPopup(popup);\r\n    }\r\n  }, [mapView, title, center, zoom]);\r\n\r\n  function mapViewHandler(event: React.ChangeEvent<HTMLSelectElement>) {\r\n    setMapView(() => event.target.value);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className={`${styles.map} ${props.className}`}\r\n        style={props.style}\r\n        ref={mapContainer}\r\n      ></div>\r\n      <select\r\n        className={`${styles[\"map-menu\"]}`}\r\n        defaultValue={\"outdoors-v12\"}\r\n        onChange={mapViewHandler}\r\n      >\r\n        <option value=\"satellite-streets-v12\">Satellite Streets</option>\r\n        <option value=\"light-v11\">Light</option>\r\n        <option value=\"dark-v11\">Dark</option>\r\n        <option value=\"streets-v12\">Streets</option>\r\n        <option value=\"outdoors-v12\">Outdoors</option>\r\n      </select>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Map;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"place-item\":\"PlaceItem_place-item__087ND\",\"place-item__content\":\"PlaceItem_place-item__content__LHjaM\",\"place-item__info\":\"PlaceItem_place-item__info__qcDkc\",\"place-item__image\":\"PlaceItem_place-item__image__eQV-G\",\"place-item__actions\":\"PlaceItem_place-item__actions__TF8Yu\",\"place-item__modal-content\":\"PlaceItem_place-item__modal-content__MhPtm\",\"place-item__modal-actions\":\"PlaceItem_place-item__modal-actions__qLNQh\",\"map-container\":\"PlaceItem_map-container__x9OeO\"};","import React, { useContext, useState } from \"react\";\r\n\r\nimport Card from \"../../shared/components/UIElements/Card\";\r\nimport Button from \"../../shared/components/FormElements/Button\";\r\nimport Map from \"../../shared/components/UIElements/Map\";\r\nimport Modal from \"../../shared/components/UIElements/Modal\";\r\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/LoadingSpinner\";\r\nimport {\r\n  AuthContext,\r\n  AuthContextType,\r\n} from \"../../shared/context/auth/auth-context\";\r\nimport { useHttpClient } from \"../../shared/hooks/useHttpClient-hook\";\r\nimport styles from \"./PlaceItem.module.css\";\r\n\r\ninterface PlaceItemProps extends React.PropsWithChildren {\r\n  id: string | number;\r\n  title: string;\r\n  image: string;\r\n  address: string;\r\n  creatorId: string | number;\r\n  coordinates: [number, number];\r\n  description: string;\r\n  onDelete: (id: string | number) => void;\r\n}\r\n\r\nfunction PlaceItem(props: PlaceItemProps): React.ReactElement {\r\n  const [showMap, setShowMap] = useState<boolean>(false);\r\n  const [showDeleteWarning, setShowDeleteWarning] = useState<boolean>(false);\r\n  const { error, isLoading, sendRequest, clearError } = useHttpClient();\r\n  const authCtx = useContext<AuthContextType>(AuthContext);\r\n\r\n  function openMapHandler(): void {\r\n    setShowMap(() => true);\r\n  }\r\n\r\n  function closeMapHandler(): void {\r\n    setShowMap(() => false);\r\n  }\r\n\r\n  function showDeleteWarningHandler(): void {\r\n    setShowDeleteWarning(() => true);\r\n  }\r\n\r\n  function cancelDeleteHandler(): void {\r\n    setShowDeleteWarning(() => false);\r\n  }\r\n\r\n  async function confirmDeleteHandler(): Promise<void> {\r\n    setShowDeleteWarning(() => false);\r\n    try {\r\n      await sendRequest({\r\n        url: `${process.env.REACT_APP_SERVER_URL}/places/${props.id}`,\r\n        method: \"DELETE\",\r\n        headers: {\r\n          Authorization: \"Bearer \" + authCtx.token,\r\n        },\r\n      });\r\n      props.onDelete(props.id);\r\n    } catch (error: any) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <ErrorModal error={error} onClear={clearError} />\r\n      <Modal\r\n        show={showMap}\r\n        onCancel={closeMapHandler}\r\n        header={props.address}\r\n        footer={<Button onClick={closeMapHandler}>CLOSE</Button>}\r\n        contentClass={`${styles[\"place-item__modal-content\"]}`}\r\n        footerClass={`${styles[\"place-item__modal-actions\"]}`}\r\n      >\r\n        <div className={`${styles[\"map-container\"]}`}>\r\n          <Map title={props.title} center={props.coordinates} zoom={15} />\r\n        </div>\r\n      </Modal>\r\n      {authCtx.userId === props.creatorId && (\r\n        <Modal\r\n          show={showDeleteWarning}\r\n          onCancel={cancelDeleteHandler}\r\n          header=\"Are you sure?\"\r\n          footerClass={`${styles[\"place-item__modal-actions\"]}`}\r\n          footer={\r\n            <>\r\n              <Button inverse onClick={cancelDeleteHandler}>\r\n                CANCEL\r\n              </Button>\r\n              <Button danger onClick={confirmDeleteHandler}>\r\n                DELETE\r\n              </Button>\r\n            </>\r\n          }\r\n        >\r\n          <p>\r\n            Do you want to proceed and delete this place? Please note that it\r\n            can't be undone thereafter.\r\n          </p>\r\n        </Modal>\r\n      )}\r\n      <li className={`${styles[\"place-item\"]}`}>\r\n        <Card className={`${styles[\"place-item__content\"]}`}>\r\n          {isLoading && <LoadingSpinner asOverlay />}\r\n          <div className={`${styles[\"place-item__image\"]}`}>\r\n            <img\r\n              src={`${process.env.REACT_APP_ASSET_URL}/${props.image}`}\r\n              alt={props.title}\r\n            />\r\n          </div>\r\n          <div className={`${styles[\"place-item__info\"]}`}>\r\n            <h2>{props.title}</h2>\r\n            <h3>{props.address}</h3>\r\n            <p>{props.description}</p>\r\n          </div>\r\n          <div className={`${styles[\"place-item__actions\"]}`}>\r\n            <Button inverse onClick={openMapHandler}>\r\n              VIEW ON MAP\r\n            </Button>\r\n            {authCtx.userId === props.creatorId && (\r\n              <>\r\n                <Button to={`/places/${props.id}`}>EDIT</Button>\r\n                <Button danger onClick={showDeleteWarningHandler}>\r\n                  DELETE\r\n                </Button>\r\n              </>\r\n            )}\r\n          </div>\r\n        </Card>\r\n      </li>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default PlaceItem;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"place-list\":\"PlaceList_place-list__+iZzH\"};","import React, { useContext } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nimport PlaceItem from \"./PlaceItem\";\r\nimport Card from \"../../shared/components/UIElements/Card\";\r\nimport Button from \"../../shared/components/FormElements/Button\";\r\nimport {\r\n  AuthContext,\r\n  AuthContextType,\r\n} from \"../../shared/context/auth/auth-context\";\r\nimport styles from \"./PlaceList.module.css\";\r\n\r\nimport { PlaceModel } from \"../models/place.model\";\r\n\r\ninterface PlaceListProps extends React.PropsWithChildren {\r\n  places: PlaceModel[];\r\n  onDeletePlace: (id: string | number) => void;\r\n}\r\n\r\nfunction PlaceList(props: PlaceListProps): React.ReactElement {\r\n  const authCtx = useContext<AuthContextType>(AuthContext);\r\n  const userId = useParams().userId;\r\n  if (props.places.length === 0) {\r\n    return (\r\n      <div className={`${styles[\"place-list\"]} center`}>\r\n        {authCtx.isLoggedIn && authCtx.userId === userId ? (\r\n          <Card>\r\n            <h2>No places found. Maybe create one?</h2>\r\n            <Button to=\"/places/new\">Share Place</Button>\r\n          </Card>\r\n        ) : (\r\n          <Card>\r\n            <h2>No places found.</h2>\r\n          </Card>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <ul className={`${styles[\"place-list\"]}`}>\r\n      {props.places.map((place) => (\r\n        <PlaceItem\r\n          key={place.id}\r\n          id={place.id}\r\n          title={place.title}\r\n          image={place.image}\r\n          address={place.address}\r\n          creatorId={place.creator}\r\n          coordinates={place.location}\r\n          description={place.description}\r\n          onDelete={props.onDeletePlace}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default PlaceList;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nimport PlaceList from \"../components/PlaceList\";\r\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/LoadingSpinner\";\r\nimport { useHttpClient } from \"../../shared/hooks/useHttpClient-hook\";\r\n\r\nimport { PlaceModel } from \"../models/place.model\";\r\n\r\ninterface ResponseData {\r\n  places: PlaceModel[];\r\n}\r\n\r\nfunction UserPlaces(): React.ReactElement {\r\n  const userId = useParams().userId;\r\n  const { error, isLoading, sendRequest, clearError } = useHttpClient();\r\n  const [loadedPlaces, setLoadedPlaces] = useState<\r\n    PlaceModel[] | [] | undefined\r\n  >([]);\r\n\r\n  useEffect(() => {\r\n    async function fetchUserPlaces(): Promise<void> {\r\n      try {\r\n        const responseData = await sendRequest<ResponseData>({\r\n          url: `${process.env.REACT_APP_SERVER_URL}/places//user/${userId}`,\r\n        });\r\n        setLoadedPlaces(() => responseData.places);\r\n      } catch (error: any) {\r\n        if (\r\n          error.message === \"Could not find a places for the provided user id.\"\r\n        ) {\r\n          setLoadedPlaces(() => []);\r\n        } else {\r\n          setLoadedPlaces(() => undefined);\r\n        }\r\n        console.log(error);\r\n      }\r\n    }\r\n\r\n    fetchUserPlaces();\r\n  }, [userId, sendRequest]);\r\n\r\n  function placeDeleteHandler(deletedPlaceId: string | number): void {\r\n    setLoadedPlaces((prevPlaces) =>\r\n      prevPlaces?.filter((place) => place.id !== deletedPlaceId)\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {!loadedPlaces && <ErrorModal error={error} onClear={clearError} />}\r\n      {isLoading && (\r\n        <div className=\"center\">\r\n          <LoadingSpinner asOverlay />\r\n        </div>\r\n      )}\r\n      {!isLoading && loadedPlaces && (\r\n        <PlaceList places={loadedPlaces} onDeletePlace={placeDeleteHandler} />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default UserPlaces;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"card\":\"Card_card__1-V8Z\"};","import React from \"react\";\r\n\r\nimport styles from \"./Card.module.css\";\r\n\r\ninterface CardProps extends React.PropsWithChildren {\r\n  className?: string;\r\n  style?: Object;\r\n}\r\n\r\nfunction Card(props: CardProps): React.ReactElement {\r\n  return (\r\n    <div className={`${styles.card} ${props.className}`} style={props.style}>\r\n      {props.children}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n"],"names":["mapboxgl","process","props","mapContainer","useRef","_useState","useState","_useState2","_slicedToArray","mapView","setMapView","title","center","zoom","useEffect","current","map","container","style","concat","marker","setLngLat","addTo","popup","setHTML","setPopup","_jsxs","_Fragment","children","_jsx","className","styles","ref","defaultValue","onChange","event","target","value","showMap","setShowMap","_useState3","_useState4","showDeleteWarning","setShowDeleteWarning","_useHttpClient","useHttpClient","error","isLoading","sendRequest","clearError","authCtx","useContext","AuthContext","closeMapHandler","cancelDeleteHandler","_confirmDeleteHandler","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","url","id","method","headers","Authorization","token","onDelete","t0","console","log","stop","apply","arguments","ErrorModal","onClear","Modal","show","onCancel","header","address","footer","Button","onClick","contentClass","footerClass","Map","coordinates","userId","creatorId","inverse","danger","Card","LoadingSpinner","asOverlay","src","image","alt","description","to","useParams","places","length","isLoggedIn","place","PlaceItem","creator","location","onDeletePlace","loadedPlaces","setLoadedPlaces","_fetchUserPlaces","responseData","sent","message","fetchUserPlaces","PlaceList","deletedPlaceId","prevPlaces","filter"],"sourceRoot":""}