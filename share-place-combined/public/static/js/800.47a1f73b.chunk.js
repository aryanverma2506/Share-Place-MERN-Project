"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[800],{301:(e,i,t)=>{t.d(i,{Z:()=>c});var a=t(791),l=t(106);const n="ImageUpload_form-control__S+NdZ",s="ImageUpload_image-upload__CzPQI",r="ImageUpload_center__jXDTo",o="ImageUpload_image-upload__preview__+ww3b";var u=t(184);function d(e,i){switch(i.type){case"INPUT_CHANGE":return{...e,file:i.file||e.file,isValid:i.isValid||e.isValid};case"PREVIEW_FILE":return{...e,filePreviewUrl:i.filePreviewUrl||e.filePreviewUrl};default:return e}}const c=function(e){const[i,t]=(0,a.useReducer)(d,{file:void 0,filePreviewUrl:null,isValid:!1}),c=(0,a.useRef)(null);return(0,a.useEffect)((()=>{if(i.file){const e=new FileReader;e.onload=()=>{t({type:"PREVIEW_FILE",filePreviewUrl:e.result})},e.readAsDataURL(i.file)}}),[i.file]),(0,u.jsxs)("div",{className:"".concat(n),children:[(0,u.jsx)("input",{id:e.id,ref:c,style:{display:"none"},type:"file",accept:".png, .jpg, .jpeg",onChange:function(a){let l,n=i.isValid;a.target.files&&1===a.target.files.length?(l=a.target.files[0],t({type:"INPUT_CHANGE",file:l,isValid:!0}),n=!0):(t({type:"INPUT_CHANGE",file:void 0,isValid:!1}),n=!1),e.onInput(e.id,l,n)}}),(0,u.jsxs)("div",{className:"".concat(s," ").concat(e.center?r:""),children:[(0,u.jsxs)("div",{className:"".concat(o),children:[i.filePreviewUrl&&(0,u.jsx)("img",{src:i.filePreviewUrl.toString(),alt:"Preview"}),!i.filePreviewUrl&&(0,u.jsx)("p",{children:"Please pick an image."})]}),(0,u.jsx)(l.Z,{type:"button",onClick:function(){var e;null===(e=c.current)||void 0===e||e.click()},children:"PICK IMAGE"}),!i.isValid&&(0,u.jsx)("p",{children:e.errorText})]})]})}},461:(e,i,t)=>{t.d(i,{Z:()=>u});var a=t(791),l=t(343);const n="Input_form-control__4leYh",s="Input_form-control--invalid__JOT1a";var r=t(184);function o(e,i){switch(i.type){case"CHANGE":return{...e,step:i.step||e.step,value:i.value||"",isValid:(0,l.ZP)(i.value||"",i.validators)};case"TOUCH":return{...e,isTouched:!0};default:return e}}const u=function(e){var i;const[t,l]=(0,a.useReducer)(o,{step:1,value:(null===(i=e.initialValue)||void 0===i?void 0:i.toString())||"",isValid:e.initialValid||!1,isTouched:!1}),{id:u,onInput:d}=e,{value:c,isValid:p}=t;function v(i){if("number"===i.target.type){let t=1;if(Number.isInteger(parseFloat(i.target.value)))t=1;else if(0!==i.target.value.trim().length){const e=(i.target.value.split(".")[1]||"").length;t=parseFloat("0.".concat("0".repeat(e-1),"1"))}l({type:"CHANGE",step:t,value:i.target.value,validators:e.validators})}else l({type:"CHANGE",value:i.target.value,validators:e.validators})}function m(){l({type:"TOUCH"})}(0,a.useEffect)((()=>{d&&d(u,c,p)}),[u,c,p,d]);const f="textarea"===e.type?(0,r.jsx)("textarea",{id:e.id,rows:e.rows||3,placeholder:e.placeholder,onChange:v,onBlur:m,value:t.value}):(0,r.jsx)("input",{id:e.id,type:e.type,min:e.min,max:e.max,step:"number"===e.type?t.step:void 0,placeholder:e.placeholder,onChange:v,onBlur:m,value:t.value});return(0,r.jsxs)("div",{className:"".concat(n," ").concat(!t.isValid&&t.isTouched?s:""),children:[(0,r.jsx)("label",{htmlFor:e.id,children:e.label}),f,!t.isValid&&t.isTouched&&(0,r.jsx)("p",{children:e.errorText})]})}},42:(e,i,t)=>{t.d(i,{Z:()=>n});t(791);const a="Card_card__1-V8Z";var l=t(184);const n=function(e){return(0,l.jsx)("div",{className:"".concat(a," ").concat(e.className),style:e.style,children:e.children})}},776:(e,i,t)=>{t.d(i,{c:()=>n});var a=t(791);function l(e,i){switch(i.type){case"INPUT_CHANGE":let a=!0;for(const t in e.inputs)e.inputs[t]&&(a=t===i.inputId?a&&i.isValid:a&&e.inputs[t].isValid);var t;if(i.inputId)return{...e,inputs:{...e.inputs,[i.inputId]:{value:null!==(t=i.value)&&void 0!==t?t:e.inputs[i.inputId].value,isValid:i.isValid}},isValid:a};break;case"SET_DATA":return{inputs:i.inputs||e.inputs,isValid:i.isValid||e.isValid};default:return e}return{...e}}function n(e,i){const[t,n]=(0,a.useReducer)(l,{inputs:e,isValid:i||!1});return[t,(0,a.useCallback)(((e,i,t)=>{n({type:"INPUT_CHANGE",inputId:e,value:i,isValid:t})}),[]),(0,a.useCallback)(((e,i)=>{n({type:"SET_DATA",inputs:e,isValid:i})}),[])]}},343:(e,i,t)=>{t.d(i,{Ox:()=>u,Ss:()=>s,TS:()=>o,ZP:()=>d,hg:()=>l,p0:()=>n,qE:()=>r});let a=function(e){return e.REQUIRE="REQUIRE",e.NUMBER="NUMBER",e.MIN_LENGTH="MIN_LENGTH",e.MAX_LENGTH="MAX_lENGTH",e.MIN="MIN",e.MAX="MAX",e.EMAIL="EMAIL",e.FILE="FILE",e}({});const l=()=>({type:a.REQUIRE,value:""}),n=()=>({type:a.NUMBER,value:""}),s=e=>({type:a.MIN_LENGTH,value:e.toString()}),r=e=>({type:a.MIN,value:e.toString()}),o=e=>({type:a.MAX,value:e.toString()}),u=()=>({type:a.EMAIL,value:""});function d(e,i){let t=!0;if(i)for(const l of i)l.type===a.REQUIRE&&(t=t&&e.trim().length>0),l.type===a.NUMBER&&(t=t&&"number"===typeof+e.trim()),l.type===a.MIN_LENGTH&&(t=t&&e.trim().length>=+l.value),l.type===a.MAX_LENGTH&&(t=t&&e.trim().length<=+l.value),l.type===a.MIN&&(t=t&&+e>=+l.value),l.type===a.MAX&&(t=t&&+e<=+l.value),l.type===a.EMAIL&&(t=t&&/^\S+@\S+\.\S+$/.test(e));return t}},800:(e,i,t)=>{t.r(i),t.d(i,{default:()=>h});var a=t(791),l=t(42),n=t(461),s=t(301),r=t(106),o=t(9),u=t(898),d=t(776),c=t(509),p=t(343),v=t(249);const m="Auth_authentication__9Qqdi";var f=t(184);const h=function(){var e,i;const[t,h]=(0,a.useState)(!0),{error:g,isLoading:I,sendRequest:y,clearError:E}=(0,c.x)(),N=(0,a.useContext)(v.V),[x,_,V]=(0,d.c)({email:{value:"",isValid:!1},password:{value:"",isValid:!1}},!1);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(o.Z,{error:g,onClear:E}),(0,f.jsxs)(l.Z,{className:"".concat(m),children:[I&&(0,f.jsx)(u.Z,{asOverlay:!0}),(0,f.jsx)("h2",{children:"Login Required"}),(0,f.jsx)("hr",{}),(0,f.jsxs)("form",{onSubmit:async function(e){if(e.preventDefault(),t)try{const e=await y({url:"".concat("https://share-place-mern-project-combined.onrender.com/api","/users/login"),method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:x.inputs.email.value,password:x.inputs.password.value})});N.login(e.userId,e.token,void 0)}catch(g){console.log(g)}else try{const e=new FormData;e.append("name",x.inputs.name.value),e.append("email",x.inputs.email.value),e.append("password",x.inputs.password.value),e.append("image",x.inputs.image.value);const i=await y({url:"".concat("https://share-place-mern-project-combined.onrender.com/api","/users/signup"),method:"POST",body:e});N.login(i.userId,i.token,void 0)}catch(g){console.log(g)}},children:[!t&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(s.Z,{id:"image",center:!0,onInput:_,errorText:"Please provide an image"}),(0,f.jsx)(n.Z,{type:"text",id:"name",label:"Your Name",placeholder:"Your Name",onInput:_,errorText:"Please enter a name.",validators:[(0,p.hg)()]})]}),(0,f.jsx)(n.Z,{type:"email",id:"email",label:"E-mail",placeholder:"E-mail",initialValue:null===(e=x.inputs.email.value)||void 0===e?void 0:e.toString(),onInput:_,errorText:"Please enter a valid e-mail address.",validators:[(0,p.Ox)()]}),(0,f.jsx)(n.Z,{type:"password",id:"password",label:"Password",initialValue:null===(i=x.inputs.password.value)||void 0===i?void 0:i.toString(),onInput:_,placeholder:"Password",errorText:"Please enter a valid password, at least 8 characters.",validators:[(0,p.Ss)(8)]}),(0,f.jsx)(r.Z,{type:"submit",disabled:!x.isValid,children:t?"LOGIN":"SIGN UP"})]}),(0,f.jsxs)(r.Z,{inverse:!0,onClick:function(){t?V({...x.inputs,image:{value:null,isValid:!1},name:{value:"",isValid:!1}},!1):(delete x.inputs.image,delete x.inputs.name,V({...x.inputs},x.inputs.email.isValid&&x.inputs.password.isValid)),h((e=>!e))},children:["SWITCH TO ",t?"SIGN UP":"LOGIN"]})]})]})}}}]);
//# sourceMappingURL=800.47a1f73b.chunk.js.map