"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[800],{301:(e,t,i)=>{i.d(t,{Z:()=>c});var a=i(791),l=i(106);const n="ImageUpload_form-control__S+NdZ",s="ImageUpload_image-upload__CzPQI",r="ImageUpload_center__jXDTo",o="ImageUpload_image-upload__preview__+ww3b";var u=i(184);function d(e,t){switch(t.type){case"INPUT_CHANGE":return{...e,file:t.file||e.file,isValid:t.isValid||e.isValid};case"PREVIEW_FILE":return{...e,filePreviewUrl:t.filePreviewUrl||e.filePreviewUrl};default:return e}}const c=function(e){const[t,i]=(0,a.useReducer)(d,{file:void 0,filePreviewUrl:null,isValid:!1}),c=(0,a.useRef)(null);return(0,a.useEffect)((()=>{if(t.file){const e=new FileReader;e.onload=()=>{i({type:"PREVIEW_FILE",filePreviewUrl:e.result})},e.readAsDataURL(t.file)}}),[t.file]),(0,u.jsxs)("div",{className:"".concat(n),children:[(0,u.jsx)("input",{id:e.id,ref:c,style:{display:"none"},type:"file",accept:".png, .jpg, .jpeg",onChange:function(a){let l,n=t.isValid;a.target.files&&1===a.target.files.length?(l=a.target.files[0],i({type:"INPUT_CHANGE",file:l,isValid:!0}),n=!0):(i({type:"INPUT_CHANGE",file:void 0,isValid:!1}),n=!1),e.onInput(e.id,l,n)}}),(0,u.jsxs)("div",{className:"".concat(s," ").concat(e.center?r:""),children:[(0,u.jsxs)("div",{className:"".concat(o),children:[t.filePreviewUrl&&(0,u.jsx)("img",{src:t.filePreviewUrl.toString(),alt:"Preview"}),!t.filePreviewUrl&&(0,u.jsx)("p",{children:"Please pick an image."})]}),(0,u.jsx)(l.Z,{type:"button",onClick:function(){var e;null===(e=c.current)||void 0===e||e.click()},children:"PICK IMAGE"}),!t.isValid&&(0,u.jsx)("p",{children:e.errorText})]})]})}},461:(e,t,i)=>{i.d(t,{Z:()=>u});var a=i(791),l=i(343);const n="Input_form-control__4leYh",s="Input_form-control--invalid__JOT1a";var r=i(184);function o(e,t){switch(t.type){case"CHANGE":return{...e,step:t.step||e.step,value:t.value||"",isValid:(0,l.ZP)(t.value||"",t.validators)};case"TOUCH":return{...e,isTouched:!0};default:return e}}const u=function(e){var t;const[i,l]=(0,a.useReducer)(o,{step:1,value:(null===(t=e.initialValue)||void 0===t?void 0:t.toString())||"",isValid:e.initialValid||!1,isTouched:!1}),{id:u,onInput:d}=e,{value:c,isValid:p}=i;function v(t){if("number"===t.target.type){let i=1;if(Number.isInteger(parseFloat(t.target.value)))i=1;else if(0!==t.target.value.trim().length){const e=(t.target.value.split(".")[1]||"").length;i=parseFloat("0.".concat("0".repeat(e-1),"1"))}l({type:"CHANGE",step:i,value:t.target.value,validators:e.validators})}else l({type:"CHANGE",value:t.target.value,validators:e.validators})}function f(){l({type:"TOUCH"})}(0,a.useEffect)((()=>{d&&d(u,c,p)}),[u,c,p,d]);const m="textarea"===e.type?(0,r.jsx)("textarea",{id:e.id,rows:e.rows||3,placeholder:e.placeholder,onChange:v,onBlur:f,value:i.value}):(0,r.jsx)("input",{id:e.id,type:e.type,min:e.min,max:e.max,step:"number"===e.type?i.step:void 0,placeholder:e.placeholder,onChange:v,onBlur:f,value:i.value});return(0,r.jsxs)("div",{className:"".concat(n," ").concat(!i.isValid&&i.isTouched?s:""),children:[(0,r.jsx)("label",{htmlFor:e.id,children:e.label}),m,!i.isValid&&i.isTouched&&(0,r.jsx)("p",{children:e.errorText})]})}},42:(e,t,i)=>{i.d(t,{Z:()=>n});i(791);const a="Card_card__1-V8Z";var l=i(184);const n=function(e){return(0,l.jsx)("div",{className:"".concat(a," ").concat(e.className),style:e.style,children:e.children})}},776:(e,t,i)=>{i.d(t,{c:()=>n});var a=i(791);function l(e,t){switch(t.type){case"INPUT_CHANGE":let a=!0;for(const i in e.inputs)e.inputs[i]&&(a=i===t.inputId?a&&t.isValid:a&&e.inputs[i].isValid);var i;if(t.inputId)return{...e,inputs:{...e.inputs,[t.inputId]:{value:null!==(i=t.value)&&void 0!==i?i:e.inputs[t.inputId].value,isValid:t.isValid}},isValid:a};break;case"SET_DATA":return{inputs:t.inputs||e.inputs,isValid:t.isValid||e.isValid};default:return e}return{...e}}function n(e,t){const[i,n]=(0,a.useReducer)(l,{inputs:e,isValid:t||!1});return[i,(0,a.useCallback)(((e,t,i)=>{n({type:"INPUT_CHANGE",inputId:e,value:t,isValid:i})}),[]),(0,a.useCallback)(((e,t)=>{n({type:"SET_DATA",inputs:e,isValid:t})}),[])]}},343:(e,t,i)=>{i.d(t,{Ox:()=>u,Ss:()=>s,TS:()=>o,ZP:()=>d,hg:()=>l,p0:()=>n,qE:()=>r});let a=function(e){return e.REQUIRE="REQUIRE",e.NUMBER="NUMBER",e.MIN_LENGTH="MIN_LENGTH",e.MAX_LENGTH="MAX_lENGTH",e.MIN="MIN",e.MAX="MAX",e.EMAIL="EMAIL",e.FILE="FILE",e}({});const l=()=>({type:a.REQUIRE,value:""}),n=()=>({type:a.NUMBER,value:""}),s=e=>({type:a.MIN_LENGTH,value:e.toString()}),r=e=>({type:a.MIN,value:e.toString()}),o=e=>({type:a.MAX,value:e.toString()}),u=()=>({type:a.EMAIL,value:""});function d(e,t){let i=!0;if(t)for(const l of t)l.type===a.REQUIRE&&(i=i&&e.trim().length>0),l.type===a.NUMBER&&(i=i&&"number"===typeof+e.trim()),l.type===a.MIN_LENGTH&&(i=i&&e.trim().length>=+l.value),l.type===a.MAX_LENGTH&&(i=i&&e.trim().length<=+l.value),l.type===a.MIN&&(i=i&&+e>=+l.value),l.type===a.MAX&&(i=i&&+e<=+l.value),l.type===a.EMAIL&&(i=i&&/^\S+@\S+\.\S+$/.test(e));return i}},800:(e,t,i)=>{i.r(t),i.d(t,{default:()=>h});var a=i(791),l=i(42),n=i(461),s=i(301),r=i(106),o=i(9),u=i(898),d=i(776),c=i(509),p=i(343),v=i(249);const f="Auth_authentication__9Qqdi";var m=i(184);const h=function(){var e,t;const[i,h]=(0,a.useState)(!0),{error:g,isLoading:I,sendRequest:y,clearError:E}=(0,c.x)(),N=(0,a.useContext)(v.V),[x,_,V]=(0,d.c)({email:{value:"",isValid:!1},password:{value:"",isValid:!1}},!1);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(o.Z,{error:g,onClear:E}),(0,m.jsxs)(l.Z,{className:"".concat(f),children:[I&&(0,m.jsx)(u.Z,{asOverlay:!0}),(0,m.jsx)("h2",{children:"Login Required"}),(0,m.jsx)("hr",{}),(0,m.jsxs)("form",{onSubmit:async function(e){if(e.preventDefault(),i)try{const e=await y({url:"".concat("http://localhost:3000/api","/users/login"),method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:x.inputs.email.value,password:x.inputs.password.value})});N.login(e.userId,e.token,void 0)}catch(g){console.log(g)}else try{const e=new FormData;e.append("name",x.inputs.name.value),e.append("email",x.inputs.email.value),e.append("password",x.inputs.password.value),e.append("image",x.inputs.image.value);const t=await y({url:"".concat("http://localhost:3000/api","/users/signup"),method:"POST",body:e});N.login(t.userId,t.token,void 0)}catch(g){console.log(g)}},children:[!i&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(s.Z,{id:"image",center:!0,onInput:_,errorText:"Please provide an image"}),(0,m.jsx)(n.Z,{type:"text",id:"name",label:"Your Name",placeholder:"Your Name",onInput:_,errorText:"Please enter a name.",validators:[(0,p.hg)()]})]}),(0,m.jsx)(n.Z,{type:"email",id:"email",label:"E-mail",placeholder:"E-mail",initialValue:null===(e=x.inputs.email.value)||void 0===e?void 0:e.toString(),onInput:_,errorText:"Please enter a valid e-mail address.",validators:[(0,p.Ox)()]}),(0,m.jsx)(n.Z,{type:"password",id:"password",label:"Password",initialValue:null===(t=x.inputs.password.value)||void 0===t?void 0:t.toString(),onInput:_,placeholder:"Password",errorText:"Please enter a valid password, at least 8 characters.",validators:[(0,p.Ss)(8)]}),(0,m.jsx)(r.Z,{type:"submit",disabled:!x.isValid,children:i?"LOGIN":"SIGN UP"})]}),(0,m.jsxs)(r.Z,{inverse:!0,onClick:function(){i?V({...x.inputs,image:{value:null,isValid:!1},name:{value:"",isValid:!1}},!1):(delete x.inputs.image,delete x.inputs.name,V({...x.inputs},x.inputs.email.isValid&&x.inputs.password.isValid)),h((e=>!e))},children:["SWITCH TO ",i?"SIGN UP":"LOGIN"]})]})]})}}}]);
//# sourceMappingURL=800.5ca76f1c.chunk.js.map